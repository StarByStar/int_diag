<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Диагностика подключения</title>
    <script src="eel.js"></script>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500&display=swap" rel="stylesheet">
</head>
<body>
    <input id ="agreement" type="text" placeholder="Номер договора">
    <button id = "start" class ="button start" onclick="start_diag()">Начать диагностику</button>
    <div id ="status">
        
    </div>
    <script>
        async function start_diag() {
            my_agr = document.getElementById('agreement').value;
            if (my_agr) { 
                let agr = document.getElementById('agreement').value;
                document.getElementById("start").innerText="Диагностика запущена";
                document.getElementById("start").disabled = true;
                let value = await eel.diag_start(agr)();
                document.getElementById("start").innerText="Начать диагностику";
                document.getElementById("start").disabled = false;
                document.getElementById('status').innerHTML = value;
                                }
        }
    </script>
</body>
</html>